{% extends "base.html" %}
{% block content %}
<h1>Daily Stock Entry</h1>

<form method="post">
  <label>Store</label>
  <select name="store_id" required>
    {% for s in stores %}
      <option value="{{ s }}">{{ s }}</option>
    {% endfor %}
  </select>

  <label>Device</label>
  <select name="device_id" required>
    {% for d in devices %}
      <option value="{{ d }}">{{ d }}</option>
    {% endfor %}
  </select>

  <label>Date</label>
<input type="date" name="date" required value="{{ today }}">


  <label>PLU Code</label>
  <select name="plu_code" required>
    {% for code in plu_codes %}
      <option value="{{ code }}">{{ code }}</option>
    {% endfor %}
  </select>

  <label>Replenishment</label>
  <input type="number" step="0.01" name="replenishment" value="0">

  <label>Closing</label>
  <input type="number" step="0.01" name="closing" value="0">

  <label>Note</label>
  <input type="text" name="note">

  <button type="submit">Save</button>
</form>

<h2>Recent Entries</h2>
<table class="table">
  <thead>
    <tr>
      <th>Date</th><th>Store</th><th>Device</th><th>PLU</th>
      <th>Replenishment</th><th>Closing</th><th>Note</th>
    </tr>
  </thead>
  <tbody>
    {% for e in entries %}
    <tr>
      <td>{{ e.date }}</td>
      <td>{{ e.store_id }}</td>
      <td>{{ e.device_id }}</td>
      <td>{{ e.plu_code }}</td>
      <td>{{ e.replenishment }}</td>
      <td>{{ e.closing }}</td>
      <td>{{ e.note }}</td>
    </tr>
    {% else %}
    <tr><td colspan="7">No stock entries yet</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
